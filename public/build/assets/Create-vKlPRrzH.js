import{u as N,j as e,H as y,L as b}from"./app-Bo2Vbsnc.js";import{A as C}from"./app-layout-DdHLMRH3.js";import{B as d,a as S}from"./createLucideIcon-XQw2-DSi.js";import{I as p}from"./input-okKGAgmh.js";import{L as r}from"./label-Dk2z4hvO.js";import{S as l,a as m,b as c,c as o,d as i}from"./select-VnT2g1FZ.js";import{P as F,a as P,b as $,C as E}from"./popover-YZJZ8lM_.js";import{C as w}from"./calendar-D3tbVsXp.js";import{f as D,a as u}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./check-PfBPDYQe.js";import"./chevron-left-CeZ96CWT.js";const I=[{title:"Tableau de bord",href:"/dashboard"},{title:"Paiements",href:"/paiements"},{title:"Nouveau paiement",href:"/paiements/create"}];function U({mariages:x,fonctionnaires:j,modes_paiement:f}){const{data:a,setData:n,post:v,processing:h,errors:s}=N({mariage_id:"",montant:"",mode_paiement:"",reference_paiement:"",date_paiement:new Date,statut:"payé",encaisser_par:"",notes:""}),_=t=>{t.preventDefault(),v("/paiements")},g=t=>`${t.homme?.nom} ${t.homme?.postnom} ${t.homme?.prenom} & ${t.femme?.nom} ${t.femme?.postnom} ${t.femme?.prenom}`;return console.log(x),e.jsxs(C,{breadcrumbs:I,children:[e.jsx(y,{title:"Nouveau paiement"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Enregistrer un paiement"})}),e.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"mariage_id",children:"Mariage *"}),e.jsxs(l,{value:a.mariage_id,onValueChange:t=>n("mariage_id",t),children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Sélectionner un mariage"})}),e.jsx(o,{children:x.map(t=>e.jsx(i,{value:t.id.toString(),children:g(t)},t.id))})]}),s.mariage_id&&e.jsx("p",{className:"text-sm text-destructive",children:s.mariage_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"montant",children:"Montant (CDF) *"}),e.jsx(p,{id:"montant",type:"number",value:a.montant,onChange:t=>n("montant",t.target.value),placeholder:"50000",step:"0.01"}),s.montant&&e.jsx("p",{className:"text-sm text-destructive",children:s.montant})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"mode_paiement",children:"Mode de paiement *"}),e.jsxs(l,{value:a.mode_paiement,onValueChange:t=>n("mode_paiement",t),children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Sélectionner un mode"})}),e.jsx(o,{children:f.map(t=>e.jsx(i,{value:t,children:t},t))})]}),s.mode_paiement&&e.jsx("p",{className:"text-sm text-destructive",children:s.mode_paiement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"reference_paiement",children:"Référence paiement *"}),e.jsx(p,{id:"reference_paiement",value:a.reference_paiement,onChange:t=>n("reference_paiement",t.target.value),placeholder:"REF123456"}),s.reference_paiement&&e.jsx("p",{className:"text-sm text-destructive",children:s.reference_paiement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"date_paiement",children:"Date paiement *"}),e.jsxs(F,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{variant:"outline",className:S("w-full justify-start text-left font-normal",!a.date_paiement&&"text-muted-foreground"),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),a.date_paiement?D(a.date_paiement,"PPP",{locale:u}):e.jsx("span",{children:"Choisir une date"})]})}),e.jsx($,{className:"w-auto p-0",children:e.jsx(E,{mode:"single",selected:a.date_paiement,onSelect:t=>t&&n("date_paiement",t),initialFocus:!0,locale:u})})]}),s.date_paiement&&e.jsx("p",{className:"text-sm text-destructive",children:s.date_paiement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"statut",children:"Statut *"}),e.jsxs(l,{value:a.statut,onValueChange:t=>n("statut",t),children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Sélectionner un statut"})}),e.jsxs(o,{children:[e.jsx(i,{value:"payé",children:"Payé"}),e.jsx(i,{value:"impayé",children:"Impayé"}),e.jsx(i,{value:"remboursé",children:"Remboursé"})]})]}),s.statut&&e.jsx("p",{className:"text-sm text-destructive",children:s.statut})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"encaisser_par",children:"Encaissé par *"}),e.jsxs(l,{value:a.encaisser_par,onValueChange:t=>n("encaisser_par",t),children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Sélectionner un fonctionnaire"})}),e.jsx(o,{children:j.map(t=>e.jsx(i,{value:t.id.toString(),children:t.nom_complet},t.id))})]}),s.encaisser_par&&e.jsx("p",{className:"text-sm text-destructive",children:s.encaisser_par})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(r,{htmlFor:"notes",children:"Notes"}),e.jsx(p,{id:"notes",value:a.notes,onChange:t=>n("notes",t.target.value),placeholder:"Informations supplémentaires..."}),s.notes&&e.jsx("p",{className:"text-sm text-destructive",children:s.notes})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(b,{href:"/paiements",children:e.jsx(d,{variant:"outline",type:"button",children:"Annuler"})}),e.jsx(d,{type:"submit",disabled:h,children:h?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{U as default};
