import{u as g,j as e,H as N,L as b}from"./app-Bo2Vbsnc.js";import{A as y,U as C}from"./app-layout-DdHLMRH3.js";import{B as i,a as _}from"./createLucideIcon-XQw2-DSi.js";import{I as n}from"./input-okKGAgmh.js";import{L as r}from"./label-Dk2z4hvO.js";import{S as c,a as d,b as m,c as h,d as x}from"./select-VnT2g1FZ.js";import{P as F,a as S,b as P,C as A}from"./popover-YZJZ8lM_.js";import{C as w}from"./calendar-D3tbVsXp.js";import{f as D,a as p}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./check-PfBPDYQe.js";import"./chevron-left-CeZ96CWT.js";const L=[{title:"Tableau de bord",href:"/dashboard"},{title:"Fonctionnaires",href:"/fonctionnaires"},{title:"Ajouter un fonctionnaire",href:"/fonctionnaires/create"}];function O({fonctions:u,users:j}){const{data:a,setData:l,post:f,processing:o,errors:t}=g({nom:"",postnom:"",prenom:"",fonction:"",grade:"",matricule:"",email:"",telephone:"",date_embauche:new Date,photo:null,user_id:null}),v=s=>{s.preventDefault(),f("/fonctionnaires")};return e.jsxs(y,{breadcrumbs:L,children:[e.jsx(N,{title:"Ajouter un fonctionnaire"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Ajouter un fonctionnaire"})}),e.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"user_id",children:"Associer à un utilisateur existant"}),e.jsxs(c,{value:a.user_id?a.user_id.toString():"",onValueChange:s=>l("user_id",s?parseInt(s):null),children:[e.jsx(d,{children:e.jsx(m,{placeholder:"Sélectionner un utilisateur"})}),e.jsx(h,{children:j.map(s=>e.jsx(x,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.name," (",s.email,")"]})]})},s.id))})]}),t.user_id&&e.jsx("p",{className:"text-sm text-destructive",children:t.user_id})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"nom",children:"Nom"}),e.jsx(n,{id:"nom",value:a.nom,onChange:s=>l("nom",s.target.value),placeholder:"Doe"}),t.nom&&e.jsx("p",{className:"text-sm text-destructive",children:t.nom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"postnom",children:"Postnom"}),e.jsx(n,{id:"postnom",value:a.postnom,onChange:s=>l("postnom",s.target.value),placeholder:"John"}),t.postnom&&e.jsx("p",{className:"text-sm text-destructive",children:t.postnom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"prenom",children:"Prénom"}),e.jsx(n,{id:"prenom",value:a.prenom,onChange:s=>l("prenom",s.target.value),placeholder:"Smith"}),t.prenom&&e.jsx("p",{className:"text-sm text-destructive",children:t.prenom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"fonction",children:"Fonction"}),e.jsxs(c,{value:a.fonction,onValueChange:s=>l("fonction",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:"Sélectionner une fonction"})}),e.jsx(h,{children:u.map(s=>e.jsx(x,{value:s,children:s},s))})]}),t.fonction&&e.jsx("p",{className:"text-sm text-destructive",children:t.fonction})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"grade",children:"Grade"}),e.jsx(n,{id:"grade",value:a.grade,onChange:s=>l("grade",s.target.value),placeholder:"Grade du fonctionnaire"}),t.grade&&e.jsx("p",{className:"text-sm text-destructive",children:t.grade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"matricule",children:"Matricule"}),e.jsx(n,{id:"matricule",value:a.matricule,onChange:s=>l("matricule",s.target.value),placeholder:"MAT12345"}),t.matricule&&e.jsx("p",{className:"text-sm text-destructive",children:t.matricule})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Email"}),e.jsx(n,{id:"email",type:"email",value:a.email,onChange:s=>l("email",s.target.value),placeholder:"john.doe@example.com"}),t.email&&e.jsx("p",{className:"text-sm text-destructive",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"telephone",children:"Téléphone"}),e.jsx(n,{id:"telephone",value:a.telephone,onChange:s=>l("telephone",s.target.value),placeholder:"+243 81 234 5678"}),t.telephone&&e.jsx("p",{className:"text-sm text-destructive",children:t.telephone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"date_embauche",children:"Date d'embauche"}),e.jsxs(F,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:_("w-full justify-start text-left font-normal",!a.date_embauche&&"text-muted-foreground"),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),a.date_embauche?D(a.date_embauche,"PPP",{locale:p}):e.jsx("span",{children:"Choisir une date"})]})}),e.jsx(P,{className:"w-auto p-0",children:e.jsx(A,{mode:"single",selected:a.date_embauche,onSelect:s=>s&&l("date_embauche",s),initialFocus:!0,locale:p})})]}),t.date_embauche&&e.jsx("p",{className:"text-sm text-destructive",children:t.date_embauche})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"photo",children:"Photo"}),e.jsx(n,{id:"photo",type:"file",onChange:s=>{s.target.files&&l("photo",s.target.files[0])}}),t.photo&&e.jsx("p",{className:"text-sm text-destructive",children:t.photo})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(b,{href:"/fonctionnaires",children:e.jsx(i,{variant:"outline",type:"button",children:"Annuler"})}),e.jsx(i,{type:"submit",disabled:o,children:o?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{O as default};
