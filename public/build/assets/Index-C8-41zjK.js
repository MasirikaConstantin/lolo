import{j as e,H as f,L as n,a as c}from"./app-Bo2Vbsnc.js";import{A as g}from"./app-layout-DdHLMRH3.js";import{B as t}from"./createLucideIcon-XQw2-DSi.js";import{I as v}from"./input-okKGAgmh.js";import{P as b,S as N,T as A,a as D,b as o,c as r,d as P,e as a,E as T,A as C,f as w,g as y,h as S,i as $,j as B,k as _,l as E,m as H,n as R,o as I}from"./alert-dialog-TgMpf1VQ.js";import{B as l}from"./badge-36Cf-ktw.js";import{t as d}from"./index-C2ywKrme.js";import{P as L}from"./pencil-BHJjtLn-.js";import{f as k,a as z}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./chevron-left-CeZ96CWT.js";const M=[{title:"Tableau de bord",href:"/dashboard"},{title:"Paiements",href:"/paiements"}];function re({paiements:i,filters:m}){const h=s=>{const p=s.target.value;c.get("/paiements",{search:p},{preserveState:!0,replace:!0})},x=s=>{c.delete(`/paiements/${s.ref}`,{preserveState:!0,replace:!0,onSuccess:()=>{d.success("Paiement supprimé avec succès.")},onError:()=>{d.error("Une erreur est survenue lors de la suppression du paiement.")}})},j=s=>{switch(s){case"payé":return e.jsx(l,{variant:"default",children:"Payé"});case"impayé":return e.jsx(l,{variant:"destructive",children:"Impayé"});case"remboursé":return e.jsx(l,{variant:"outline",children:"Remboursé"});default:return e.jsx(l,{children:s})}},u=s=>`${s.homme?.nom} ${s.homme?.postnom} ${s.homme?.prenom} & ${s.femme?.nom} ${s.femme?.postnom} ${s.femme?.prenom}`;return console.log(i),e.jsxs(g,{breadcrumbs:M,children:[e.jsx(f,{title:"Gestion des paiements"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des paiements"}),e.jsx(n,{href:"/paiements/create",children:e.jsxs(t,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Nouveau paiement"]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(N,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(v,{placeholder:"Rechercher par référence...",className:"pl-9",defaultValue:m.search,onChange:h})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(o,{children:[e.jsx(r,{children:"Mariage"}),e.jsx(r,{children:"Montant"}),e.jsx(r,{children:"Mode"}),e.jsx(r,{children:"Référence"}),e.jsx(r,{children:"Date"}),e.jsx(r,{children:"Statut"}),e.jsx(r,{children:"Encaissé par"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),e.jsx(P,{children:i.data.map(s=>e.jsxs(o,{children:[e.jsx(a,{children:u(s.mariage)}),e.jsx(a,{children:s.montant}),e.jsx(a,{children:s.mode_paiement}),e.jsx(a,{children:s.reference_paiement}),e.jsx(a,{children:k(new Date(s.date_paiement),"PP",{locale:z})}),e.jsx(a,{children:j(s.statut)}),e.jsx(a,{children:s.encaisser_par}),e.jsxs(a,{className:"flex justify-end gap-2",children:[e.jsx(n,{href:`/paiements/${s.ref}`,children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(T,{className:"h-4 w-4"})})}),e.jsx(n,{href:`/paiements/${s.ref}/edit`,children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs(C,{children:[e.jsx(w,{asChild:!0,children:e.jsx(t,{variant:"destructive",size:"sm",children:e.jsx(y,{className:"h-4 w-4"})})}),e.jsxs(S,{children:[e.jsxs($,{children:[e.jsx(B,{children:"Confirmer la suppression"}),e.jsx(_,{children:"Cette action est irréversible. Le paiement sera définitivement supprimé."})]}),e.jsxs(E,{children:[e.jsx(H,{children:"Annuler"}),e.jsx(R,{onClick:()=>x(s),children:"Supprimer"})]})]})]})]})]},s.id))})]})}),e.jsx(I,{data:i})]})]})}export{re as default};
