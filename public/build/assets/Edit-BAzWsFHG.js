import{u as p,j as e,H as x,L as u}from"./app-Bo2Vbsnc.js";import{A as j}from"./app-layout-DdHLMRH3.js";import{B as n,a as v}from"./createLucideIcon-XQw2-DSi.js";import{I as i}from"./input-okKGAgmh.js";import{L as o}from"./label-Dk2z4hvO.js";import{S as f,a as g,b as N,c as b,d as y}from"./select-VnT2g1FZ.js";import{P as C,a as F,b as _,C as P}from"./popover-YZJZ8lM_.js";import{C as S}from"./calendar-D3tbVsXp.js";import{f as w,a as m}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./check-PfBPDYQe.js";import"./chevron-left-CeZ96CWT.js";const T=[{title:"Tableau de bord",href:"/dashboard"},{title:"Fonctionnaires",href:"/fonctionnaires"},{title:"Modifier un fonctionnaire",href:""}];function K({fonctionnaire:l,fonctions:d}){const{data:a,setData:r,put:D,processing:c,errors:s}=p({nom:l.nom,postnom:l.postnom,prenom:l.prenom,fonction:l.fonction,grade:l.grade,matricule:l.matricule,email:l.email,telephone:l.telephone,date_embauche:new Date(l.date_embauche),photo:null,_method:"PUT"}),h=t=>{t.preventDefault(),post(`/fonctionnaires/${l.ref}`,a)};return e.jsxs(j,{breadcrumbs:T,children:[e.jsx(x,{title:"Modifier un fonctionnaire"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Modifier un fonctionnaire"})}),e.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"nom",children:"Nom"}),e.jsx(i,{id:"nom",value:a.nom,onChange:t=>r("nom",t.target.value),placeholder:"Doe"}),s.nom&&e.jsx("p",{className:"text-sm text-destructive",children:s.nom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"postnom",children:"Postnom"}),e.jsx(i,{id:"postnom",value:a.postnom,onChange:t=>r("postnom",t.target.value),placeholder:"John"}),s.postnom&&e.jsx("p",{className:"text-sm text-destructive",children:s.postnom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"prenom",children:"Prénom"}),e.jsx(i,{id:"prenom",value:a.prenom,onChange:t=>r("prenom",t.target.value),placeholder:"Smith"}),s.prenom&&e.jsx("p",{className:"text-sm text-destructive",children:s.prenom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"fonction",children:"Fonction"}),e.jsxs(f,{value:a.fonction,onValueChange:t=>r("fonction",t),children:[e.jsx(g,{children:e.jsx(N,{placeholder:"Sélectionner une fonction"})}),e.jsx(b,{children:d.map(t=>e.jsx(y,{value:t,children:t},t))})]}),s.fonction&&e.jsx("p",{className:"text-sm text-destructive",children:s.fonction})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"grade",children:"Grade"}),e.jsx(i,{id:"grade",value:a.grade,onChange:t=>r("grade",t.target.value),placeholder:"Grade du fonctionnaire"}),s.grade&&e.jsx("p",{className:"text-sm text-destructive",children:s.grade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"matricule",children:"Matricule"}),e.jsx(i,{id:"matricule",value:a.matricule,onChange:t=>r("matricule",t.target.value),placeholder:"MAT12345"}),s.matricule&&e.jsx("p",{className:"text-sm text-destructive",children:s.matricule})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",value:a.email,onChange:t=>r("email",t.target.value),placeholder:"john.doe@example.com"}),s.email&&e.jsx("p",{className:"text-sm text-destructive",children:s.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"telephone",children:"Téléphone"}),e.jsx(i,{id:"telephone",value:a.telephone,onChange:t=>r("telephone",t.target.value),placeholder:"+243 81 234 5678"}),s.telephone&&e.jsx("p",{className:"text-sm text-destructive",children:s.telephone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"date_embauche",children:"Date d'embauche"}),e.jsxs(C,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:v("w-full justify-start text-left font-normal",!a.date_embauche&&"text-muted-foreground"),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),a.date_embauche?w(a.date_embauche,"PPP",{locale:m}):e.jsx("span",{children:"Choisir une date"})]})}),e.jsx(_,{className:"w-auto p-0",children:e.jsx(P,{mode:"single",selected:a.date_embauche,onSelect:t=>t&&r("date_embauche",t),initialFocus:!0,locale:m})})]}),s.date_embauche&&e.jsx("p",{className:"text-sm text-destructive",children:s.date_embauche})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"photo",children:"Photo"}),e.jsx(i,{id:"photo",type:"file",onChange:t=>{t.target.files&&r("photo",t.target.files[0])}}),l.photo&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:`/storage/${l.photo}`,alt:"Photo du fonctionnaire",className:"h-20 w-20 rounded-md object-cover"})}),s.photo&&e.jsx("p",{className:"text-sm text-destructive",children:s.photo})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(u,{href:"/fonctionnaires",children:e.jsx(n,{variant:"outline",type:"button",children:"Annuler"})}),e.jsx(n,{type:"submit",disabled:c,children:c?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{K as default};
