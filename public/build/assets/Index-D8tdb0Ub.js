import{j as e,H as j,L as i,a as n}from"./app-Bo2Vbsnc.js";import{A as u}from"./app-layout-DdHLMRH3.js";import{B as l}from"./createLucideIcon-XQw2-DSi.js";import{I as p}from"./input-okKGAgmh.js";import{P as f,S as g,T as b,a as v,b as c,c as r,d as A,e as a,E as N,A as D,f as T,g as C,h as w,i as y,j as P,k as S,l as k,m as B,n as F,o as H}from"./alert-dialog-TgMpf1VQ.js";import{B as _}from"./badge-36Cf-ktw.js";import{t as o}from"./index-C2ywKrme.js";import{P as E}from"./pencil-BHJjtLn-.js";import{f as z,a as G}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./chevron-left-CeZ96CWT.js";const I=[{title:"Tableau de bord",href:"/dashboard"},{title:"Fonctionnaires",href:"/fonctionnaires"}];function ee({fonctionnaires:t,filters:d}){const h=s=>{const x=s.target.value;n.get("/fonctionnaires",{search:x},{preserveState:!0,replace:!0})},m=s=>{n.delete(`/fonctionnaires/${s.ref}`,{preserveState:!0,replace:!0,onSuccess:()=>{o.success("Fonctionnaire supprimé avec succès.")},onError:()=>{o.error("Une erreur est survenue lors de la suppression du fonctionnaire.")}})};return e.jsxs(u,{breadcrumbs:I,children:[e.jsx(j,{title:"Gestion des fonctionnaires"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des fonctionnaires"}),e.jsx(i,{href:"/fonctionnaires/create",children:e.jsxs(l,{children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Ajouter un fonctionnaire"]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(g,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(p,{placeholder:"Rechercher...",className:"pl-9",defaultValue:d.search,onChange:h})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(b,{children:[e.jsx(v,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Nom complet"}),e.jsx(r,{children:"Matricule"}),e.jsx(r,{children:"Fonction"}),e.jsx(r,{children:"Grade"}),e.jsx(r,{children:"Date embauche"}),e.jsx(r,{children:"Créé par"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),e.jsx(A,{children:t.data.map(s=>e.jsxs(c,{children:[e.jsx(a,{className:"font-medium",children:s.nom_complet}),e.jsx(a,{children:s.matricule}),e.jsx(a,{children:e.jsx(_,{variant:"secondary",children:s.fonction})}),e.jsx(a,{children:s.grade}),e.jsx(a,{children:z(new Date(s.date_embauche),"PP",{locale:G})}),e.jsx(a,{children:s.created_by}),e.jsxs(a,{className:"flex justify-end gap-2",children:[e.jsx(i,{href:`/fonctionnaires/${s.ref}`,children:e.jsx(l,{variant:"outline",size:"sm",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsx(i,{href:`/fonctionnaires/${s.ref}/edit`,children:e.jsx(l,{variant:"outline",size:"sm",children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsx(l,{variant:"destructive",size:"sm",children:e.jsx(C,{className:"h-4 w-4"})})}),e.jsxs(w,{children:[e.jsxs(y,{children:[e.jsx(P,{children:"Êtes-vous sûr de vouloir supprimer ce fonctionnaire?"}),e.jsx(S,{children:"Cette action est irréversible. Toutes les données associées à ce fonctionnaire seront également supprimées."})]}),e.jsxs(k,{children:[e.jsx(B,{children:"Annuler"}),e.jsx(F,{onClick:()=>m(s),children:"Confirmer"})]})]})]})]})]},s.id))})]})}),e.jsx(H,{links:t.links})]})]})}export{ee as default};
