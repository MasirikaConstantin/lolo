import{j as e,H as v,L as t,a as n}from"./app-Bo2Vbsnc.js";import{A as g}from"./app-layout-DdHLMRH3.js";import{B as l}from"./createLucideIcon-XQw2-DSi.js";import{I as N}from"./input-okKGAgmh.js";import{P as A,S as b,T as D,a as C,b as o,c as r,d as T,e as a,E as w,A as P,f as y,g as S,h as _,i as $,j as B,k as H,l as I,m as E,n as k,o as z}from"./alert-dialog-TgMpf1VQ.js";import{B as c}from"./badge-36Cf-ktw.js";import{t as d}from"./index-C2ywKrme.js";import{P as F}from"./pencil-BHJjtLn-.js";import{f as m,a as h}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./chevron-left-CeZ96CWT.js";const L=[{title:"Tableau de bord",href:"/dashboard"},{title:"Citoyens",href:"/citoyens"}];function se({citoyens:i,filters:x}){const u=s=>{const f=s.target.value;n.get("/citoyens",{search:f},{preserveState:!0,replace:!0})},j=s=>{n.delete(`/citoyens/${s.ref}`,{preserveState:!0,replace:!0,onSuccess:()=>{d.success("Citoyen supprimé avec succès.")},onError:()=>{d.error("Une erreur est survenue lors de la suppression du citoyen.")}})},p=s=>`${s.nom} ${s.postnom} ${s.prenom}`;return e.jsxs(g,{breadcrumbs:L,children:[e.jsx(v,{title:"Gestion des citoyens"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des citoyens"}),e.jsx(t,{href:"/citoyens/create",children:e.jsxs(l,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Ajouter un citoyen"]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(b,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{placeholder:"Rechercher par nom, postnom, prénom ou NIN...",className:"pl-9",defaultValue:x.search,onChange:u})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(D,{children:[e.jsx(C,{children:e.jsxs(o,{children:[e.jsx(r,{children:"Nom complet"}),e.jsx(r,{children:"Sexe"}),e.jsx(r,{children:"Date de naissance"}),e.jsx(r,{children:"État civil"}),e.jsx(r,{children:"NIN"}),e.jsx(r,{children:"Créé le"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),e.jsx(T,{children:i.data.map(s=>e.jsxs(o,{children:[e.jsx(a,{className:"font-medium",children:p(s)}),e.jsx(a,{children:e.jsx(c,{variant:s.sexe==="M"?"default":"secondary",children:s.sexe==="M"?"Masculin":"Féminin"})}),e.jsx(a,{children:m(new Date(s.date_naissance),"PP",{locale:h})}),e.jsx(a,{children:e.jsx(c,{variant:"outline",children:s.etat_civil})}),e.jsx(a,{children:s.numero_identification_national||"N/A"}),e.jsx(a,{children:m(new Date(s.created_at),"PP",{locale:h})}),e.jsxs(a,{className:"flex justify-end gap-2",children:[e.jsx(t,{href:`/citoyens/${s.ref}`,children:e.jsx(l,{variant:"outline",size:"sm",children:e.jsx(w,{className:"h-4 w-4"})})}),e.jsx(t,{href:`/citoyens/${s.ref}/edit`,children:e.jsx(l,{variant:"outline",size:"sm",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsxs(P,{children:[e.jsx(y,{asChild:!0,children:e.jsx(l,{variant:"destructive",size:"sm",children:e.jsx(S,{className:"h-4 w-4"})})}),e.jsxs(_,{children:[e.jsxs($,{children:[e.jsx(B,{children:"Êtes-vous sûr de vouloir supprimer ce citoyen?"}),e.jsx(H,{children:"Cette action ne peut pas être annulée. Cela supprimera définitivement les données du citoyen de nos serveurs."})]}),e.jsxs(I,{children:[e.jsx(E,{children:"Annuler"}),e.jsx(k,{onClick:()=>j(s),children:"Supprimer"})]})]})]})]})]},s.id))})]})}),e.jsx(z,{data:i})]})]})}export{se as default};
