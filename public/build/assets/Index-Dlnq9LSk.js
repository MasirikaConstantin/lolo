import{j as e,H as j,L as l,a as n}from"./app-Bo2Vbsnc.js";import{A as p}from"./app-layout-DdHLMRH3.js";import{B as t}from"./createLucideIcon-XQw2-DSi.js";import{I as f}from"./input-okKGAgmh.js";import{P as v,S as g,T as A,a as b,b as c,c as r,d as N,e as a,E as D,A as T,f as C,g as w,h as S,i as P,j as y,k as B,l as E,m as H,n as _,o as I}from"./alert-dialog-TgMpf1VQ.js";import{B as o}from"./badge-36Cf-ktw.js";import{t as d}from"./index-C2ywKrme.js";import{P as R}from"./pencil-BHJjtLn-.js";import{f as U,a as k}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./chevron-left-CeZ96CWT.js";const z=[{title:"Tableau de bord",href:"/dashboard"},{title:"Utilisateurs",href:"/users"}];function ee({users:i,filters:h}){const m=s=>{const x=s.target.value;n.get("/users",{search:x},{preserveState:!0,replace:!0})},u=s=>{n.delete(`/users/${s.ref}`,{preserveState:!0,replace:!0,onSuccess:()=>{d.success("Utilisateur supprimé avec succès.")},onError:()=>{d.error("Une erreur est survenue lors de la suppression de l'utilisateur.")}})};return e.jsxs(p,{breadcrumbs:z,children:[e.jsx(j,{title:"Gestion des utilisateurs"}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des utilisateurs"}),e.jsx(l,{href:"/users/create",children:e.jsxs(t,{children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Ajouter un utilisateur"]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(g,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(f,{placeholder:"Rechercher...",className:"pl-9",defaultValue:h.search,onChange:m})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(A,{children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Nom complet"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Role"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Created At"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),e.jsx(N,{children:i.data.map(s=>e.jsxs(c,{children:[e.jsx(a,{className:"font-medium",children:s.name}),e.jsx(a,{children:s.email}),e.jsx(a,{children:e.jsx(o,{variant:s.role==="admin"?"default":"secondary",children:s.role})}),e.jsx(a,{children:e.jsx(o,{variant:s.is_active?"default":"destructive",children:s.is_active?"Actif":"Inactif"})}),e.jsx(a,{children:U(new Date(s.created_at),"PP",{locale:k})}),e.jsxs(a,{className:"flex justify-end gap-2",children:[e.jsx(l,{href:route("users.show",s.ref),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsx(l,{href:route("users.edit",s.ref),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsxs(T,{children:[e.jsx(C,{asChild:!0,children:e.jsx(t,{variant:"destructive",size:"sm",children:e.jsx(w,{className:"h-4 w-4"})})}),e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(y,{children:"Êtes-vous sûr de vouloir supprimer cet utilisateur?"}),e.jsx(B,{children:"Cette action ne peut pas être annulée. Cela supprimera votre compte et supprimera vos données de nos serveurs."})]}),e.jsxs(E,{children:[e.jsx(H,{children:"Annuler"}),e.jsx(_,{onClick:()=>u(s),children:"Supprimer"})]})]})]})]})]},s.id))})]})}),e.jsx(I,{data:i})]})]})}export{ee as default};
