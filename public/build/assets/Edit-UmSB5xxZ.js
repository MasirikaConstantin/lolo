import{u as g,j as e,H as N,L as b}from"./app-Bo2Vbsnc.js";import{A as y}from"./app-layout-DdHLMRH3.js";import{B as c,a as C}from"./createLucideIcon-XQw2-DSi.js";import{I as d}from"./input-okKGAgmh.js";import{L as i}from"./label-Dk2z4hvO.js";import{S as m,a as o,b as p,c as x,d as l}from"./select-VnT2g1FZ.js";import{P as S,a as F,b as P,C as E}from"./popover-YZJZ8lM_.js";import{C as M}from"./calendar-D3tbVsXp.js";import{f as w,a as u}from"./fr-BP0VUzFK.js";/* empty css            */import"./index-vs_CEgml.js";import"./chevron-right-DL2bW7BS.js";import"./index-BNGQMMhk.js";import"./app-logo-icon-CS4oG-CN.js";import"./check-PfBPDYQe.js";import"./chevron-left-CeZ96CWT.js";const D=[{title:"Tableau de bord",href:"/dashboard"},{title:"Paiements",href:"/paiements"},{title:"Modifier paiement",href:""}];function O({paiement:a,fonctionnaires:j,modes_paiement:f}){const{data:r,setData:n,post:v,processing:h,errors:s}=g({montant:a.montant,mode_paiement:a.mode_paiement,reference_paiement:a.reference_paiement,date_paiement:new Date(a.date_paiement),statut:a.statut,encaisser_par:a.encaisser_par.toString(),notes:a.notes||"",_method:"PUT"}),_=t=>{t.preventDefault(),v(`/paiements/${a.id}`,r)};return e.jsxs(y,{breadcrumbs:D,children:[e.jsx(N,{title:`Modifier paiement ${a.ref}`}),e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Modifier le paiement ",a.ref]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mariage: ",a.mariage_ref]})]}),e.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"montant",children:"Montant (CDF) *"}),e.jsx(d,{id:"montant",type:"number",value:r.montant,onChange:t=>n("montant",parseFloat(t.target.value)),placeholder:"50000",step:"0.01"}),s.montant&&e.jsx("p",{className:"text-sm text-destructive",children:s.montant})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"mode_paiement",children:"Mode de paiement *"}),e.jsxs(m,{value:r.mode_paiement,onValueChange:t=>n("mode_paiement",t),children:[e.jsx(o,{children:e.jsx(p,{placeholder:"Sélectionner un mode"})}),e.jsx(x,{children:f.map(t=>e.jsx(l,{value:t,children:t},t))})]}),s.mode_paiement&&e.jsx("p",{className:"text-sm text-destructive",children:s.mode_paiement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"reference_paiement",children:"Référence paiement *"}),e.jsx(d,{id:"reference_paiement",value:r.reference_paiement,onChange:t=>n("reference_paiement",t.target.value),placeholder:"REF123456"}),s.reference_paiement&&e.jsx("p",{className:"text-sm text-destructive",children:s.reference_paiement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"date_paiement",children:"Date paiement *"}),e.jsxs(S,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:C("w-full justify-start text-left font-normal",!r.date_paiement&&"text-muted-foreground"),children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),r.date_paiement?w(r.date_paiement,"PPP",{locale:u}):e.jsx("span",{children:"Choisir une date"})]})}),e.jsx(P,{className:"w-auto p-0",children:e.jsx(E,{mode:"single",selected:r.date_paiement,onSelect:t=>t&&n("date_paiement",t),initialFocus:!0,locale:u})})]}),s.date_paiement&&e.jsx("p",{className:"text-sm text-destructive",children:s.date_paiement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"statut",children:"Statut *"}),e.jsxs(m,{value:r.statut,onValueChange:t=>n("statut",t),children:[e.jsx(o,{children:e.jsx(p,{placeholder:"Sélectionner un statut"})}),e.jsxs(x,{children:[e.jsx(l,{value:"payé",children:"Payé"}),e.jsx(l,{value:"impayé",children:"Impayé"}),e.jsx(l,{value:"remboursé",children:"Remboursé"})]})]}),s.statut&&e.jsx("p",{className:"text-sm text-destructive",children:s.statut})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"encaisser_par",children:"Encaissé par *"}),e.jsxs(m,{value:r.encaisser_par,onValueChange:t=>n("encaisser_par",t),children:[e.jsx(o,{children:e.jsx(p,{placeholder:"Sélectionner un fonctionnaire"})}),e.jsx(x,{children:j.map(t=>e.jsx(l,{value:t.id.toString(),children:t.nom_complet},t.id))})]}),s.encaisser_par&&e.jsx("p",{className:"text-sm text-destructive",children:s.encaisser_par})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"notes",children:"Notes"}),e.jsx(d,{id:"notes",value:r.notes,onChange:t=>n("notes",t.target.value),placeholder:"Informations supplémentaires..."}),s.notes&&e.jsx("p",{className:"text-sm text-destructive",children:s.notes})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(b,{href:"/paiements",children:e.jsx(c,{variant:"outline",type:"button",children:"Annuler"})}),e.jsx(c,{type:"submit",disabled:h,children:h?"Enregistrement...":"Enregistrer"})]})]})]})]})}export{O as default};
